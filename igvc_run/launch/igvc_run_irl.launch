<!--igvc_run.launch-->
<launch>

<!-- =============   TRANSFORMS  ======================= -->
<!-- TODO add transforms as a seperate launch file so when they change here they change in all launch files, like bag and demos -->
<include file="$(find igvc_run)/launch/tf.launch"></include>

  <!-- Robot Pose -->
  <arg name="x" default="-3.714"/>
  <arg name="y" default="-21.26"/>
  <arg name="z" default="0"/>
  <arg name="roll" default="0"/>
  <arg name="pitch" default="0"/>
  <arg name="yaw" default="0"/>

<!-- Navigatin System CNS5000 -->
<node name="novatel_CNS5000" pkg="gps_imu" type="usma_novatel_driver.py" output="screen">
	<remap from="gps/fix" to="/navsat/fix"/>   
</node>  
<node name="novatel_CNS5000_imu" pkg="gps_imu" type="imu_parser.py" output="screen">
	<remap from="/imu/raw" to="/imu/data"/>   
</node>

<!--utm odom converter node for current location-->
<node name="gps_conv" pkg="gps_common" type="utm_odometry_node">
  <remap from="odom" to="/iggy_velocity_controller/odom"/>
  <remap from="fix" to="/navsat/fix" />
  <param name="frame_id" value="base_footprint" />
</node>

<!-- Robot Control -->
  <include file="$(find iggy_control)/launch/control.launch" />
  <include file="$(find iggy_control)/launch/teleop.launch">
    <arg name="joystick" value="true"/>
  </include>

<include file="$(find usma_roboteq)/launch/roboteq_driver_irl.launch"></include>  
<include file="$(find iggy_control)/launch/move_base.launch"></include>

<!-- Laser Range Finder  -->
<include file="$(find velodyne_bringup)/launch/igvc_velodyne.launch" /> 
<!-- FOR INDOOR NAVIGATION USE-->
<!--<node pkg="laser_scan_matcher" type="laser_scan_matcher_node" name="laser_scan_matcher_node" output="screen"> 
	<remap from="/imu_data" to="/imu/data"/>   
	<param name="cloud" value="/velodyne_points"/>
	<param name="use_cloud_input" value="yes"/>
	<param name="max_iterations" value="10"/>    
	<param name="use_imu" type="bool" value="true" />    
	<param name="use_odom" type="bool" value="false" />    
	<param name="fixed_frame" type="string" value="/map" />    
	<param name="base_frame" type="string" value="/base_footprint" />
</node>-->  

<!--vision3d  -->
#TODO: Add zed camera

<!--connects the arduino to the computer
<node pkg="rosserial_python" type="serial_node.py" name="serial_node">
    <param name="port" value="/dev/arduino"/>
    <param name="baud" value="57600"/>
</node>
-->
<!--creates bag files that get overwritten each time this runs-->
<!--<include file="$(find igvc_run)/launch/rosbag_record.launch"></include>-->

<!-- Start an rviz node with a custom configuration  -->
<!-- <node pkg="rviz" type="rviz" output="screen" name="rviz" args="-d $(find igvc_run)/launch/igvc_run_everything.rviz"/> -->



</launch>


