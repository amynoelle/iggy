<!-- Phidgets IMU launch file -->

<launch>

  #### Nodelet manager ######################################################

  <node pkg="nodelet" type="nodelet" name="imu_manager" 
    args="manager" output="screen" ns="phidget"/>

  #### IMU Driver ###########################################################

  <node pkg="nodelet" type="nodelet" name="PhidgetsImuNodelet" 
    args="load phidgets_imu/PhidgetsImuNodelet imu_manager" 
    output="screen" ns="phidget">
    # supported data rates: 4 8 16 24 32 40 ... 1000 (in ms)
    <param name="period" value="40"/>
  </node>

  <node pkg="iggy_bringup" type="phidgGlobal.py" name="phidgGlobal" >

  </node>

  #### IMU Orientation Filter ###############################################
<!--
  <node pkg="nodelet" type="nodelet" name="ImuFilterNodelet" 
    args="load imu_filter_madgwick/ImuFilterNodelet imu_manager" 
    output="screen" ns="phidget">
    <param name="use_mag" value="true"/>
  </node>

  <node pkg="iggy_bringup" type="headingFromMagnetic.py" name="headingFromMagnetic" 
    output="screen"/> -->

<node pkg="tf" type="static_transform_publisher" name="base_link_to_velodyne"
        args="0 0 0 0 0 0 odom velodyne 100" /> 

<!-- Start an rviz node with a custom configuration 
<node pkg="rviz" type="rviz" output="screen" name="rviz" args="-d $(find iggy_bringup)/launch/test_imu.rviz"/>   -->
  <node pkg="rviz" type="rviz" output="screen" name="rviz" args="-d $(find iggy_gazebo)/launch/iggy_gazebo.rviz"/>  



  <!-- Laser Range Finder   -->
    <include file="$(find velodyne_bringup)/launch/igvc_velodyne.launch" />   

</launch>
